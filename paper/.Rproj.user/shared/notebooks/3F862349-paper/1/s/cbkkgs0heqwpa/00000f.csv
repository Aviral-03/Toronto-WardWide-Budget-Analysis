"0","#| include: false"
"0","#| warning: false"
"0","#| message: false"
"0","# get package"
"0","url <- ""https://ckan0.cf.opendata.inter.prod-toronto.ca/dataset/6678e1a6-d25f-4dff-b2b7-aa8f042bc2eb/resource/16a31e1d-b4d9-4cf0-b5b3-2e3937cb4121/download/2023-WardProfiles-2011-2021-CensusData.xlsx"""
"0",""
"0","# load the first datastore resource as a sample"
"0","local_file <- tempfile(fileext = "".xlsx"")"
"0","download.file(url, local_file, mode = ""wb"")"
"2","trying URL 'https://ckan0.cf.opendata.inter.prod-toronto.ca/dataset/6678e1a6-d25f-4dff-b2b7-aa8f042bc2eb/resource/16a31e1d-b4d9-4cf0-b5b3-2e3937cb4121/download/2023-WardProfiles-2011-2021-CensusData.xlsx'
"
"2","Content type 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'"
"2"," length 540936 bytes (528 KB)
"
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","="
"2","
"
"2","downloaded 528 KB

"
"0","raw_ward_data <- readxl::read_xlsx(local_file)"
"1","[38;5;232mNew names:
[36mâ€¢[38;5;232m `` -> `...2`
[36mâ€¢[38;5;232m `` -> `...3`
[36mâ€¢[38;5;232m `` -> `...4`
[36mâ€¢[38;5;232m `` -> `...5`
[36mâ€¢[38;5;232m `` -> `...6`
[36mâ€¢[38;5;232m `` -> `...7`
[36mâ€¢[38;5;232m `` -> `...8`
[36mâ€¢[38;5;232m `` -> `...9`
[36mâ€¢[38;5;232m `` -> `...10`
[36mâ€¢[38;5;232m `` -> `...11`
[36mâ€¢[38;5;232m `` -> `...12`
[36mâ€¢[38;5;232m `` -> `...13`
[36mâ€¢[38;5;232m `` -> `...14`
[36mâ€¢[38;5;232m `` -> `...15`
[36mâ€¢[38;5;232m `` -> `...16`
[36mâ€¢[38;5;232m `` -> `...17`
[36mâ€¢[38;5;232m `` -> `...18`
[36mâ€¢[38;5;232m `` -> `...19`
[36mâ€¢[38;5;232m `` -> `...20`
[36mâ€¢[38;5;232m `` -> `...21`
[36mâ€¢[38;5;232m `` -> `...22`
[36mâ€¢[38;5;232m `` -> `...23`
[36mâ€¢[38;5;232m `` -> `...24`
[36mâ€¢[38;5;232m `` -> `...25`
[36mâ€¢[38;5;232m `` -> `...26`
[36mâ€¢[38;5;232m `` -> `...27`[39m
"
"0","# Write CSV"
"0","write.csv(raw_ward_data, ""../data/raw_data/raw_ward_data.csv"")"
"0",""
"0","# clean up"
"0","unlink(local_file)"
